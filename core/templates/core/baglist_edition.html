<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor de BagLists</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[rgba(49,92,149,0.15)] font-sans">

    <!-- Panel lateral deslizante -->
    <div id="editionPanel" 
         class="fixed top-0 right-[-680px] w-[680px] h-screen bg-white shadow-lg transition-[right] duration-300 ease-in-out overflow-y-auto z-[1000]">

        <!-- Cabecera -->
        <div class="sticky top-0 z-10 flex justify-between items-center p-5 bg-gray-100 border-b border-gray-200">
            <h2 class="text-xl font-semibold text-gray-800">Editor de BagLists</h2>
            <button id="closePanel" class="w-8 h-8 flex items-center justify-center text-gray-600 text-2xl rounded-md hover:bg-gray-200 transition">×</button>
        </div>

        <!-- Contenido del panel -->
        <div class="p-0">

            <!-- Sección Mis BagLists -->
            <section class="mb-6">
                <div class="flex justify-between items-center px-5 py-3 border-b border-gray-200">
                    <h3 class="text-blue-800 font-semibold text-lg">Mis BagLists</h3>
                    <button id="addBagList" class="w-8 h-8 flex items-center justify-center bg-[#315C95] text-white rounded-md font-bold text-lg hover:bg-[#2a4f82] transition">+</button>
                </div>
                
                <div class="px-5 py-2">
                    {% for baglist in baglists %}
                        <div class="flex justify-between items-center bg-gray-100 rounded-lg p-3 mb-2 hover:bg-gray-200 transition">
                            <span class="text-gray-800 font-medium">{{ baglist.name }}</span>
                            <button class="edit-btn px-3 py-1 bg-[#315C95] text-white rounded-md text-sm font-medium hover:bg-[#2a4f82] transition" data-id="{{ baglist.id }}">Editar</button>
                        </div>
                    {% empty %}
                        <p class="p-4 text-gray-500">Todavía no tienes ninguna BagList</p>
                    {% endfor %}
                </div>
            </section>

            <!-- Sección Edición de BagList -->
            <section id="baglistEditSection" class="mb-6 bg-[rgba(49,92,149,0.38)] p-5 rounded-lg">
                <div class="mb-4">
                    <h4 class="text-blue-800 font-semibold">Editando: <span id="editingBagListName">BagList 1</span></h4>
                </div>

                <div class="space-y-4">
                    <!-- Formulario principal -->
                    <div class="flex gap-4 flex-wrap">
                        <div class="flex-1">
                            <label class="block mb-1 text-gray-800 font-medium text-sm">Nombre</label>
                            <input id="baglistName" type="text" value="BagList 1" class="w-full p-2 border border-gray-300 rounded-md focus:border-[#315C95] focus:outline-none text-sm">
                            <button class="mt-2 px-3 py-2 bg-[#FFD54A] hover:bg-[#FFCD2E] text-gray-800 rounded-md font-medium text-sm transition">Crear Item</button>
                        </div>

                        <div class="w-[150px]">
                            <label class="block mb-1 text-gray-800 font-medium text-sm">Etiqueta 1</label>
                            <div class="p-2 border border-gray-300 rounded-md bg-white text-gray-600 text-sm">Visibilidad pública</div>
                        </div>
                    </div>

                    <!-- tBagList -->
                    <div class="space-y-2">
                        <label class="block text-gray-800 font-medium text-sm">tBagList 1</label>
                        <div class="flex gap-2 flex-wrap">
                            <input type="text" value="Item 1" class="flex-1 p-2 border border-gray-300 rounded-md focus:border-[#315C95] focus:outline-none text-sm">
                            <button class="px-3 py-2 bg-[#315C95] hover:bg-[#2a4f82] text-white rounded-md font-medium text-sm transition">+ Agregar Item</button>
                        </div>
                    </div>

                    <!-- Guardar BagList -->
                    <button class="w-full py-3 bg-[#315C95] hover:bg-[#2a4f82] text-white font-semibold rounded-lg transition">Guardar Nueva BagList</button>
                </div>
            </section>

            <!-- Sección Mis Items -->
            <section class="mb-6 px-5">
                <div class="flex justify-between items-center border-b border-gray-200 mb-3">
                    <h3 class="text-blue-800 font-semibold text-lg">Mis Items</h3>
                </div>

                <div class="space-y-4">
                    {% for i in 1..6 %}
                    <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 space-y-2">
                        <div class="flex gap-2 flex-wrap">
                            <input type="text" placeholder="Nombre" value="Item {{ i }}" class="flex-1 p-2 border border-gray-300 rounded-md focus:border-[#315C95] focus:outline-none text-sm">
                            <button class="px-2 py-1 bg-[#315C95] hover:bg-[#2a4f82] text-white rounded-md text-sm transition">Link Url</button>
                            <button class="px-2 py-1 bg-[#315C95] hover:bg-[#2a4f82] text-white rounded-md text-sm transition">Link Video</button>
                            <button class="px-2 py-1 bg-[#315C95] hover:bg-[#2a4f82] text-white rounded-md text-sm transition">Link Ig</button>
                        </div>
                        <div class="flex gap-2 flex-wrap">
                            <button class="px-2 py-1 bg-[#315C95] hover:bg-[#2a4f82] text-white rounded-md text-sm transition">Link Imagen</button>
                            <input type="text" placeholder="Descripción" class="flex-1 p-2 border border-gray-300 rounded-md focus:border-[#315C95] focus:outline-none text-sm">
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // Mostrar/ocultar panel
        document.getElementById('openPanel').addEventListener('click', () => {
            document.getElementById('editionPanel').classList.add('right-0');
        });

        document.getElementById('closePanel').addEventListener('click', () => {
            document.getElementById('editionPanel').classList.remove('right-0');
        });

        // Simular edición de BagList
        document.querySelectorAll('.edit-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const baglistName = this.previousElementSibling.textContent;
                document.getElementById('editingBagListName').textContent = baglistName;
                document.getElementById('baglistName').value = baglistName;
            });
        });
    </script>
</body>
</html>
